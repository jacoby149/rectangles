{"version":3,"file":"Rectangles.modern.js","sources":["../src/Rectangles.js"],"sourcesContent":["/**************************************\r\n * Rectangles.js\r\n * Houses the R component [Rectangle]\r\n * The C component [Content Rectangle]\r\n * The T component [Text Rectangle]\r\n * pass \r\n * - passes rectangle inheritance through new rectangle component definitions.\r\n * - see the demos.\r\n * startRectangles \r\n * - a function in the framework that must be run after the main react render.\r\n****************************************/\r\nimport r from 'react';\r\nvar React = window.React;\r\nif (r) React = r;\r\n\r\n\r\n/**************\r\n * React Components\r\n **************/\r\n\r\nfunction T(props) {\r\n  return (\r\n    <C p=\"0px 15px 0px 15px\"{...pass(props)}>\r\n      <textarea className={\"R \" + props.theme} style={{ paddingTop: \"18px\", height: \"100%\", width: \"100%\", resize: \"none\" }} placeholder={props.children}></textarea>\r\n    </C>\r\n  )\r\n}\r\n\r\nfunction C(props) {\r\n  const ha = props.ha ? props.ha : \"left\";\r\n  const va = props.va ? props.va : \"center\";\r\n  const p = props.p ? props.p : \"0px 0px 0px 15px\";\r\n  return (\r\n    <R {...pass(props)}>\r\n      <R ns={props.ns} tel t h={props.h}>\r\n        <div {...pass(props)} style={{ display: \"flex\", height: \"100%\" }}>\r\n          <div style={{ display: \"flex\", alignItems: va, width: \"100%\", justifyContent: ha, padding: p }}>\r\n            {props.children}\r\n          </div>\r\n        </div>\r\n      </R>\r\n    </R>\r\n  )\r\n}\r\n\r\n/* The Rectangle component */\r\nfunction R(props) {\r\n\r\n  /* concatenate dictionaries */\r\n  function a(x, y) {\r\n    return { ...x, ...y };\r\n  }\r\n\r\n  /* style dictionary */\r\n  var style = {};\r\n\r\n  /* float */\r\n  const [t, b, l, r] = [props.t, props.b, props.l, props.r];\r\n  var side = \"top\";\r\n  if ((t + b + l + r) > 1) console.log(\"warning conflicting tblrs ! \");\r\n  if (t) { side = \"top\"; }\r\n  if (b) { side = \"bottom\"; }\r\n  if (l) { side = \"left\"; }\r\n  if (r) { side = \"right\"; }\r\n\r\n\r\n  if (l || r) { style = a(style, { writingMode: \"vertical-lr\" }); }\r\n  else if (t || b) { style = a(style, { writingMode: \"horizontal-tb\" }); }\r\n\r\n  /* border sides */\r\n  const [bt, bb, bl, br] = [props.bt, props.bb, props.bl, props.br];\r\n  if (bt) { style = a(style, { borderTopStyle: \"solid\" }); }\r\n  if (bb) { style = a(style, { borderBottomStyle: \"solid\" }); }\r\n  if (bl) { style = a(style, { borderLeftStyle: \"solid\" }); }\r\n  if (br) { style = a(style, { borderRightStyle: \"solid\" }); }\r\n\r\n  /* noscroll shouldn't be needed....*/\r\n  if (props.ns) { style = a(style, { overflow: \"hidden\" }); }\r\n  if (props.h) { style = a(style, {}); }\r\n\r\n  /* rect size */\r\n  const v = (!props.ps || props.ps == \"top\" || props.ps == \"bottom\");\r\n  var [s, ms] = [props.s, props.ms];\r\n\r\n  if (!props.root) {\r\n    if (!s) { s = \"auto\"; }\r\n    if (v) { style = a(style, { height: s, width: \"100%\" }); } /* for now */\r\n    else { style = a(style, { width: s, height: \"100%\" }); }\r\n  }\r\n\r\n  /* pass float orientation to children */\r\n  const updatedChildren = React.Children.map(\r\n    props.children,\r\n    (child, i) => {\r\n      return React.cloneElement(child, {\r\n        //this properties are available as a props in child components\r\n        ps: side,\r\n        theme: child.props.theme?child.props.theme : props.theme\r\n      });\r\n    }\r\n  );\r\n\r\n  /* if collapsed */\r\n  if (props.c) {\r\n    style = a(style, { display: \"none\" });\r\n  } /* for now */\r\n\r\n\r\n  const isTel = props.tel ? \"tel \" : \"nottel \";\r\n  const isHover = props.h ? \"h \" : \"\";\r\n  const ismc = props.mc ? \"mc \" : \"\";\r\n  const ismsc = props.msc ? \"msc \" : \"\";\r\n  const root = props.root ? \"root \" : \"\";\r\n  const theme = props.theme + \" \";\r\n  const borders = (bb?\"bb \":\"\") +(bt?\"bt \":\"\") +(bl?\"bl \":\"\") +(br?\"br \":\"\");\r\n\r\n  const className = \"R \" + root + theme + isTel + isHover + ismc + ismsc + borders + props.className;\r\n  return (\r\n    <div childfloat={side}\r\n      className={className}\r\n      style={{ ...style, ...props.style }}\r\n      dangerouslySetInnerHTML={props.dangerouslySetInnerHTML}\r\n      >\r\n      {updatedChildren}\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n/*************************\r\n * functional helpers\r\n *************************/\r\n\r\nfunction pass(props) {\r\n  const objectMap = (obj, fn) =>\r\n    Object.fromEntries(\r\n      Object.entries(obj).map(\r\n        ([k, v], i) => [k, fn(v, k, i)]\r\n      )\r\n    )\r\n\r\n  return objectMap(props, v => v === true ? \"true\" : (v === false ? \"false\" : v))\r\n}\r\n\r\nfunction initTelescope() {\r\n  const telescope = {};\r\n  telescope.adjust = function (tel, sibs, floatSide) {\r\n    const telescopicElement = tel[0];\r\n    if (floatSide == \"left\" || floatSide == \"right\") {\r\n      var remainingWidth = sibs.reduce(\r\n        (accumulator, child) => accumulator + child.offsetWidth,\r\n        0\r\n      );\r\n      telescopicElement.style.width = `calc(100% - ${remainingWidth}px)`;\r\n    } else if (floatSide == \"top\" || floatSide == \"bottom\") {\r\n      var remainingHeight = sibs.reduce(\r\n        (accumulator, child) => accumulator + child.offsetHeight,\r\n        0\r\n      );\r\n      telescopicElement.style.height = `calc(100% - ${remainingHeight}px)`;\r\n    } else\r\n      console.error(\"telescope.js side error, neither horizontal or vertical\");\r\n  };\r\n\r\n  // recursively adjust the webpage based on window size change\r\n  telescope.telescope = function (div) {\r\n    const children = [...Array.from(div.childNodes)].filter((e) =>{\r\n      return e.classList && e.classList.contains(\"R\")}\r\n    );\r\n    const tel = [...children].filter((e) => e.classList.contains(\"tel\"));\r\n    const sibs = [...children].filter((e) => e.classList.contains(\"nottel\"));\r\n    const floatSide = div.getAttribute(\"childfloat\"); \r\n    if (tel.length == 1) telescope.adjust(tel, sibs, floatSide);\r\n    else if (tel.length > 1)\r\n      console.error(\"Warning. too many telescopic rects.\");\r\n\r\n    /* always recurse */\r\n    children.map((child) => telescope.telescope(child));\r\n  };\r\n  telescope.start = function (root) {\r\n    const e = () => telescope.telescope(root);\r\n    window.addEventListener(\"resize\", e);\r\n    window.addEventListener(\"click\", e);\r\n\r\n    //watch mutations too\r\n    const observer = new MutationObserver(e);\r\n    observer.observe(root, {\r\n      attributes: true,\r\n      childList: true,\r\n      subtree: true,\r\n    });\r\n\r\n    telescope.telescope(root);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", e);\r\n      window.removeEventListener(\"click\", e);\r\n      observer.disconnect();\r\n    };\r\n  };\r\n  return telescope;\r\n}\r\n\r\nfunction startRectangles(root) {\r\n  window.telescope = initTelescope();\r\n  window.telescope.start(root);\r\n}\r\n\r\n\r\n/************\r\n * Exports\r\n ************/\r\n\r\nexport { pass, R, C, T, startRectangles };"],"names":["React","window","r","T","props","pass","theme","paddingTop","height","width","resize","children","C","ha","va","p","ns","h","display","alignItems","justifyContent","padding","R","a","x","y","style","t","b","l","side","console","log","writingMode","bt","bb","bl","br","borderTopStyle","borderBottomStyle","borderLeftStyle","borderRightStyle","overflow","v","ps","s","ms","root","updatedChildren","Children","map","child","i","cloneElement","c","isTel","tel","isHover","ismc","mc","ismsc","msc","borders","className","dangerouslySetInnerHTML","objectMap","obj","fn","Object","fromEntries","entries","k","initTelescope","telescope","adjust","sibs","floatSide","telescopicElement","remainingWidth","reduce","accumulator","offsetWidth","remainingHeight","offsetHeight","error","div","Array","from","childNodes","filter","e","classList","contains","getAttribute","length","start","addEventListener","observer","MutationObserver","observe","attributes","childList","subtree","removeEventListener","disconnect","startRectangles"],"mappings":"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"}